<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>Terrain generation</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.31.1" />
        


        
        
            
        

        <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Terrain generation"/>
<meta name="twitter:description" content="Procedural terrain generation in p5 So here I am again, tinking around with procedural generation. The recent interest started from another TheCodingTrain video from Daniel Shiffman, specifically around using perlin noise to create this essence of flying over a landscape. Following his youtube video, I got a decent first pass.
You can probably notice that the shading isn&rsquo;t all that good. And it also seems to run in strips along the mesh."/>

        <meta property="og:title" content="Terrain generation" />
<meta property="og:description" content="Procedural terrain generation in p5 So here I am again, tinking around with procedural generation. The recent interest started from another TheCodingTrain video from Daniel Shiffman, specifically around using perlin noise to create this essence of flying over a landscape. Following his youtube video, I got a decent first pass.
You can probably notice that the shading isn&rsquo;t all that good. And it also seems to run in strips along the mesh." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2018-07-13-terrain/" />



<meta property="article:published_time" content="2018-07-13T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-07-13T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="Terrain generation">
<meta itemprop="description" content="Procedural terrain generation in p5 So here I am again, tinking around with procedural generation. The recent interest started from another TheCodingTrain video from Daniel Shiffman, specifically around using perlin noise to create this essence of flying over a landscape. Following his youtube video, I got a decent first pass.
You can probably notice that the shading isn&rsquo;t all that good. And it also seems to run in strips along the mesh.">


<meta itemprop="datePublished" content="2018-07-13T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-07-13T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="445">



<meta itemprop="keywords" content="" />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
        

        

      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/"></a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/posts/">
                            <i class="posts">&nbsp;</i>Posts
                    </a>
                </li>
            
                <li>
                    <a href="/tags/">
                            <i class="tag">&nbsp;</i>Tags
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/posts/">
                            <h3>
                                <i class="posts">&nbsp;</i>Posts
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags/">
                            <h3>
                                <i class="tag">&nbsp;</i>Tags
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section id="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/posts/2018-07-13-terrain/">Terrain generation</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-07-13'>
                                    July 13, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/posts/2017-10-16-maze-generation/">Maze Generation</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-10-16'>
                                    October 16, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/posts/2017-08-07-weaving/">Weave</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-08-07'>
                                    August 7, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/posts/2017-07-30-dragoncurves/">Dragon Curves</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-07-30'>
                                    July 30, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/posts/2017-07-29-blognewblog/">public Blog b = new Blog();</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-07-29'>
                                    July 29, 2017</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            "/post/"
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li>
  <a href="//twitter.com/share?url=%2fposts%2f2018-07-13-terrain%2f&text=Terrain%20generation&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>


<li>
  <a href="//plus.google.com/share?url=%2fposts%2f2018-07-13-terrain%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>


<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fposts%2f2018-07-13-terrain%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>


<li>
  <a href="//reddit.com/submit?url=%2fposts%2f2018-07-13-terrain%2f&title=Terrain%20generation" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>


<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fposts%2f2018-07-13-terrain%2f&title=Terrain%20generation" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>


<li>
  <a href="//www.stumbleupon.com/submit?url=%2fposts%2f2018-07-13-terrain%2f&title=Terrain%20generation" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>


<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fposts%2f2018-07-13-terrain%2f&description=Terrain%20generation" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>


<li>
  <a href="mailto:?subject=Check out this post by &body=%2fposts%2f2018-07-13-terrain%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/posts/2018-07-13-terrain/">Terrain generation</a></h1>
            
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2018-07-13'>
            July 13, 2018</time>
        <span class="author"></span>
        
        
    </div>
</header>


  

  

  <div id="content">
    

<h1 id="procedural-terrain-generation-in-p5">Procedural terrain generation in p5</h1>

<p>So here I am again, tinking around with procedural generation. The recent interest started from another <a href="http://thecodingtrain.com/">TheCodingTrain</a> video from Daniel Shiffman, specifically around using perlin noise to create this essence of flying over a landscape. Following his youtube video, I got a decent first pass.</p>

<p><img src="/img/terrain/mesh_terrain.gif" alt="Perlin noise surface" /></p>

<p>You can probably notice that the shading isn&rsquo;t all that good. And it also seems to run in strips along the mesh. This turned out to be related to the fact I was using a TRIANGLE_STRIP shape in order to squeeze some efficienvy out of the fairly crude surface I was drawing.</p>

<p>Not satisfied I took to google where naturally Stack Overflow had the answer, with a kind <a href="https://github.com/Spongman">Spongman</a> posting his example of a hacked version of p5.js on a <a href="https://github.com/processing/p5.js/issues/2609">issues thread</a> for processing.</p>

<p><img src="https://user-images.githubusercontent.com/1088194/35747302-a1b8ba96-07fe-11e8-9edf-993d71b8fcf4.png" alt="Hacked p5 geometry example (credit to Spongeman)" /></p>

<p>You interact with this object in a way more akin to dealing with DirectX or OpenGL, wherein you must instruct it to compute the normals etc, but needless, it seriously ups the triangle count effortlessy to somewhere around 10k. Another bonus is the fact that point lights work great, and the example above has a sun and moon rising and setting around the scene. Neat!</p>

<p>I took this example, and had a play, which was great fun. My favourite outcome was a low flying view through a sort of valley. I acheived this merely by altering the camera&rsquo;s location, and applying a factor based on the x position of the nodes.</p>

<p><img src="/img/terrain/valley_simulation.gif" alt="Valley simulation using hacked p5" /></p>

<p>This got me thining. I&rsquo;d seen a cool archipalgo example from a map maker on the reddit proc gen forums [WhereDragonsAbide] and how by applying a radial function, you could drop the perlin noise off and create cool islands!</p>

<p>I first knocked up a small 1D example in which I worked out how to create sliders etc with the p5.dom.js library, such that I could alter the variables live and configure the noise to the right specification.</p>

<p><img src="/img/terrain/noise_graph.gif" alt="1D applet for playing with perlin noise parameters." /></p>

<p>I took this and applied it in a 2D sense, such that you could make top down maps. It wasn&rsquo;t much more complex to add a colouring the pixels based on height, such that I could mimic sea, sand, grass and snow!</p>

<p><img src="/img/terrain/noise_island.gif" alt="2D applet to generate island maps with perlin noise." /></p>

<p>A bit more hacking different bits together, and I smushed all the sliders from the applet into the hacked p5 valley camera, and applied the radial scale factor and VOILA! A neat little archipalgo designer! Sure it could do with some polishing, but it&rsquo;s pretty fun to experiment with nonetheless!</p>

<p><img src="/img/terrain/island_simulation.gif" alt="2D applet to generate island maps with perlin noise." /></p>

<p>As usual, all <a href="https://github.com/ThomasJackDalby/experimental">sauce</a> can be found in the github repos:</p>

<ul>
<li><a href="https://github.com/ThomasJackDalby/experimental/procedural_generation/mesh_terrain">CodingTrain Mesh Terrain Example</a></li>
<li><a href="https://github.com/ThomasJackDalby/experimental/procedural_generation/noise_graph">1D applet</a></li>
<li><a href="https://github.com/ThomasJackDalby/experimental/procedural_generation/noise_island">2D applet</a></li>
<li><a href="https://github.com/ThomasJackDalby/experimental/procedural_generation/valley_simulation">Valley simulation</a></li>
<li><a href="https://github.com/ThomasJackDalby/experimental/procedural_generation/island_simulation">Island simulation</a></li>
<li><a href="https://codepen.io/Spongman/pen/rJOoJa?editors=0010">Spongman Codepen Example 1</a></li>
<li><a href="https://codepen.io/Spongman/pen/NyGZZy?editors=1010">Spongman Codepen Example 2</a></li>
</ul>

  </div>

  <footer>
    <ul class="stats">
    

    
    
</ul>

  </footer>

</article>


<ul class="actions pagination">
    
        <li><a href="/posts/2017-10-16-maze-generation/"
                class="button big previous">Maze Generation</a></li>
    

    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
    
    
  </section>

  
  <section id="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/posts/2018-07-13-terrain/">Terrain generation</a>
              </h3>
              
              <time class="published" datetime='2018-07-13'>
                July 13, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/posts/2017-10-16-maze-generation/">Maze Generation</a>
              </h3>
              
              <time class="published" datetime='2017-10-16'>
                October 16, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/posts/2017-08-07-weaving/">Weave</a>
              </h3>
              
              <time class="published" datetime='2017-08-07'>
                August 7, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/posts/2017-07-30-dragoncurves/">Dragon Curves</a>
              </h3>
              
              <time class="published" datetime='2017-07-30'>
                July 30, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/posts/2017-07-29-blognewblog/">public Blog b = new Blog();</a>
              </h3>
              
              <time class="published" datetime='2017-07-29'>
                July 29, 2017
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            "/post/"
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
    </section>
  

  
  

  
  <section id="footer">
    
    <p class="copyright">
      
        Copyright (c) 2017, all rights reserved.
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

